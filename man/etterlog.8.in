.\"  etterlog -- log analyzer for ettercap log files
.\"
.\"  This program is free software; you can redistribute it and/or modify
.\"  it under the terms of the GNU General Public License as published by
.\"  the Free Software Foundation; either version 2 of the License, or
.\"  (at your option) any later version.
.\"
.\"  This program is distributed in the hope that it will be useful,
.\"  but WITHOUT ANY WARRANTY; without even the implied warranty of
.\"  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\"  GNU General Public License for more details.
.\"
.\"  You should have received a copy of the GNU General Public License
.\"  along with this program; if not, write to the Free Software
.\"  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
.\"
.\"  $Id: etterlog.8.in,v 1.4 2003/04/01 22:13:43 alor Exp $
.\"
.de Sp
.if n .sp
.if t .sp 0.4
..
.TH ETTERLOG "8" "" "ettercap @VERSION@"
.SH NAME
.B etterlog @VERSION@ \- Log analyzer for ettercap log files

.SH SYNOPSIS
.B etterlog
[\fIOPTIONS\fR] \fIFILE\fR


.SH DESCRIPTION
Etterlog is the log analyzer for logfiles created by ettercap. It can handle
both compressed (created with -Lc) or uncompressed logfiles. With this tool you
can manipulate the binary file as you want and you can print the data in
different way as many time you want (in contrast with the previous logging
system which was used to dump in a single static manner).
.br
You will be able to dump traffic only from one connection, only from one or
more hosts, print data in hex, ascii, binary ecc...
.Sp
TIP: All the unuseful messages are printed to stderr, so you can save the
output from etterlog with the following command:
.TP
\fIetterlog [options] logfile > outfile\fR
.Sp
Thus you can dump for example binary file from an ftp connection if you print
the data in binary mode, without headers and selecting only the server as the 
source of the communication.

.TP
.B GENERAL OPTIONS
.TP
\fB\-a\fR, \fB\-\-analyze\fR
Analyze a log file and display some interesting statistics.

.TP
\fB\-c\fR, \fB\-\-connections\fR
Parses the log file and prints a table of unique connection (port to port).
This option can be used only on logfile LOG_PACKET. On LOG_INFO logfiles it is
useless.
.Sp
TIP: you can search for a particular host by using the following command:
.Sp
etterlog -c logfile.ecp | grep 10.0.0.1

.TP
\fB\-f\fR, \fB\-\-filter <TARGET>\fR
Print only packet coming form or going to TARGET. The TARGET specification is
the same as the ettercap's one.
.br
\fITARGET\fR is in the form \fIMAC/IPs/PORTs\fR. If you want you can omit any of its parts
and this will rappresent an ANY in that part. 
.Sp
If the type of the log is LOG_INFO the target is used to display hosts matching
the mac, ip and having the specified port open. For example the target //80
will display only infos about hosts with a running web server.

.TP
\fB\-r\fR, \fB\-\-reverse\fR
Reverse the matching in the TARGET selection. It means not(TARGET). All but the
selected TARGET.

.TP
\fB\-t\fR, \fB\-\-proto <PROTO>\fR
sniff only PROTO packets (default is TCP + UDP).
This option is only useful in "simple" mode, if you start ettercap in interactive mode
both TCP and UDP are sniffed.
.br
PROTO can be "tcp", "udp" or "all" for both.


.TP
\fB\-F\fR, \fB\-\-filcon <CONNECTION>\fR
Print packets only belonging to this CONNECTION. 
.br
CONNECTION is in the form PROTO:SOURCE:DEST. SOURCE and DEST are in the form IP:PORT.
.Sp
example:
.Sp
etterlog -F TCP:10.0.0.23:3318:198.182.196.56:80

.TP
\fB\-s\fR, \fB\-\-only-source\fR
Display only packet that are sent by the source of the selected CONNECTION.
This option make sense only in conjunction with the -F option. 
.Sp
TIP: if you want to save a file trasfrerred in an HTTP or FTP connection, you can
use the following command:
.Sp
etterlog -B -s -n -F TCP:10.0.0.1:20:10.0.0.2:35426 logfile.ecp >
example.tar.gz
  
.TP
\fB\-d\fR, \fB\-\-only-dest\fR
Same as --only-source but it filter on the destination host.

.TP
\fB\-k\fR, \fB\-\-color\fR
Display the source and dest of the connection in different colors. This option
is acviable only in conjunction with the -F option.

.TP
\fB\-n\fR, \fB\-\-no-headers\fR
Do not print the header of each packet. This option is useful if you want to
save a file in binary format (-B option). Without the headers you can redirect
the output to a file and you will get the original stream.
.Sp
NOTE: the time stamp in the header is in the form: Thu Mar 27 23:03:31 2003
[169396], the value in the square brackets are microseconds

.TP
\fB\-m\fR, \fB\-\-show-mac\fR
In the headers show even the mac addresses of corresponding to the ip
addresses.

.TP
.B SEARCH OPTIONS

.TP
\fB\-e\fR, \fB\-\-regex <REGEX>\fR
Display only packets matching the regex <REGEX>. 
.br
If this option is used agains a LOG_PACKET logfile the regex is executed on the
payload of the packet. If the type il LOG_INFO, the regex is executed on all
the field of the host's profile (OS, banners and ethernet adapter)

.TP
\fB\-u\fR, \fB\-\-user <USER>\fR
Display information about this user. The search is performed over all the
hosts' user and pass collected infos.


.TP
.B VISUALIZATION METHOD
  
.TP
\fB\-B\fR, \fB\-\-binary\fR
Print data as they are, in binary form. Useful to dump binary data to a file
(as described above).

.TP
\fB\-X\fR, \fB\-\-hex\fR
Print the packets in hex format.
.Sp
example:
.Sp
the string  "HTTP/1.1 304 Not Modified"  becomes:
.Sp
0000: 4854 5450 2f31 2e31 2033 3034 204e 6f74  HTTP/1.1 304 Not
.br
0010: 204d 6f64 6966 6965 64                    Modified
    

.TP
\fB\-A\fR, \fB\-\-ascii\fR
Print only "printable" characters, the others are displayed as dot '.'

.TP
\fB\-T\fR, \fB\-\-text\fR
Print only the "printable" characters and skip the others.

.TP
\fB\-E\fR, \fB\-\-ebcdic\fR
Convert an EBCDIC text to ASCII.

.TP
\fB\-H\fR, \fB\-\-html\fR
Strip all the html tags from the text. A tag is every string between < and >.
.Sp
example:
.Sp
<title>This is the title</title>, but the following <string> will not be
displayed.
.Sp
This is the title, but the following will not be displayed.

.TP
\fB\-Z\fR, \fB\-\-zero\fR
Print always the void string. i.e. print olny header information and no packet
content will be printed.
                           
                           
.TP
.B STANDARD OPTIONS
.TP
\fB\-v\fR, \fB\-\-version\fR
Print the version and exit.

.TP
\fB\-h\fR, \fB\-\-help\fR
prints the help screen with a short summary of the available options.


.SH AUTHORS
Alberto Ornaghi (ALoR) <alor@users.sourceforge.net>
.br
Marco Valleri (NaGA) <crwm@freemail.it>


.SH AVAILABILITY
http://ettercap.sourceforge.net/download/

.SH CVS
cvs -d:pserver:anonymous@cvs.ettercap.sf.net:/cvsroot/ettercap login
.br
cvs -d:pserver:anonymous@cvs.ettercap.sf.net:/cvsroot/ettercap co ettercap_ng

.SH BUGS
Our software never has bugs.
.br
It just develops random features.   ;)
.PP
If you found a bug or you have a suggestion for a feature enhancement, please
post in the ettercap forum http://ettercap.sf.net/forum/


